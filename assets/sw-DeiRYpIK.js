const n="mathorgame-v1",r=["/","/index.html","/src/main.js","/src/style.css","/src/games/DungeonEscape.js","/src/games/ShapeBuilder.js","/src/games/VolumeQuest.js","/src/games/PatternPuzzle.js","/src/games/SpaceShooter.js","/src/games/TimesTables.js","/src/games/DecimalDash.js","/icons/icon-72x72.png","/icons/icon-96x96.png","/icons/icon-128x128.png","/icons/icon-144x144.png","/icons/icon-152x152.png","/icons/icon-192x192.png","/icons/icon-384x384.png","/icons/icon-512x512.png","/offline.html"];self.addEventListener("install",c=>{c.waitUntil(caches.open(n).then(t=>(console.log("Opened cache"),t.addAll(r))))});self.addEventListener("activate",c=>{const t=[n];c.waitUntil(caches.keys().then(s=>Promise.all(s.map(e=>{if(t.indexOf(e)===-1)return caches.delete(e)})))),c.waitUntil(clients.claim())});self.addEventListener("fetch",c=>{c.request.url.startsWith(self.location.origin)&&c.respondWith(caches.match(c.request).then(t=>{if(t)return t;const s=c.request.clone();return c.request.mode==="navigate"?fetch(s).then(e=>{if(!e||e.status!==200||e.type!=="basic")return e;const a=e.clone();return caches.open(n).then(i=>{i.put(c.request,a)}),e}).catch(()=>caches.match("/offline.html")):fetch(s).then(e=>{if(!e||e.status!==200||e.type!=="basic")return e;const a=e.clone();return caches.open(n).then(i=>{i.put(c.request,a)}),e}).catch(()=>caches.match(c.request))}))});
